<!DOCTYPE html>
<html><head><link href="css/default.css" rel="stylesheet" type="text/css"><script src="js/jquery.min.js" type="text/javascript"></script><script src="js/page_effects.js" type="text/javascript"></script><title>qbits.alia documentation</title></head><body><div id="header"><h2>Generated by <a href="https://github.com/weavejester/codox">Codox</a></h2><h1><a href="index.html">Alia 0.1.0-SNAPSHOT API documentation</a></h1></div><div class="sidebar" id="namespaces"><h3><span>Namespaces</span></h3><ul><li class="current"><a href="qbits.alia.html"><span>qbits.alia</span></a></li><li><a href="qbits.alia.cluster-options.html"><span>qbits.alia.cluster-options</span></a></li><li><a href="qbits.alia.codec.html"><span>qbits.alia.codec</span></a></li><li><a href="qbits.alia.utils.html"><span>qbits.alia.utils</span></a></li></ul></div><div class="sidebar" id="vars"><h3>Public Vars</h3><ul><li><a href="qbits.alia.html#var-bind"><span>bind</span></a></li><li><a href="qbits.alia.html#var-cluster"><span>cluster</span></a></li><li><a href="qbits.alia.html#var-connect"><span>connect</span></a></li><li><a href="qbits.alia.html#var-execute"><span>execute</span></a></li><li><a href="qbits.alia.html#var-prepare"><span>prepare</span></a></li><li><a href="qbits.alia.html#var-rows-%3Emaps"><span>rows-&gt;maps</span></a></li><li><a href="qbits.alia.html#var-set-consistency%21"><span>set-consistency!</span></a></li><li><a href="qbits.alia.html#var-set-session%21"><span>set-session!</span></a></li><li><a href="qbits.alia.html#var-shutdown"><span>shutdown</span></a></li><li><a href="qbits.alia.html#var-with-consistency"><span>with-consistency</span></a></li><li><a href="qbits.alia.html#var-with-session"><span>with-session</span></a></li></ul></div><div class="namespace-docs" id="content"><h2>qbits.alia documentation</h2><pre class="doc"></pre><div class="public" id="var-bind"><h3>bind</h3><div class="usage"><code>(bind prepared-statement &amp; values)</code></div><pre class="doc">Returns a com.datastax.driver.core.BoundStatement instance to be
used with `execute`</pre><div class="src-link"><a href="https://github.com/mpenet/alia/blob/master/src/qbits/alia.clj#L195">Source</a></div></div><div class="public" id="var-cluster"><h3>cluster</h3><div class="usage"><code>(cluster hosts &amp; {:as options, :keys [pre-build-fn], :or {pre-build-fn identity}})</code></div><pre class="doc">Returns a new com.datastax.driver.core/Cluster instance
</pre><div class="src-link"><a href="https://github.com/mpenet/alia/blob/master/src/qbits/alia.clj#L64">Source</a></div></div><div class="public" id="var-connect"><h3>connect</h3><div class="usage"><code>(connect cluster keyspace)</code><code>(connect cluster)</code></div><pre class="doc">Returns a new com.datastax.driver.core/Session instance. We need to
have this separate in order to allow users to connect to multiple
keyspaces from a single cluster instance</pre><div class="src-link"><a href="https://github.com/mpenet/alia/blob/master/src/qbits/alia.clj#L74">Source</a></div></div><div class="public" id="var-execute"><h3>execute</h3><div class="usage"><code>(execute &amp; args)</code></div><pre class="doc">Executes querys against a session. Returns a collection of rows.
The first argument can be either a Session instance or the query
directly.

So 2 signatures:

 [session query &amp; {:keys [async? success error executor
                          consistency routing-key retry-policy
                          tracing?]
                  :or {executor default-async-executor
                       consistency *consistency*}}]

or

 [query &amp; {:keys [async? success error executor
                  consistency routing-key retry-policy
                  tracing?]
                  :or {executor default-async-executor
                       consistency *consistency*}}]

If you chose the latter the Session must be bound with
`with-session`.

If you pass :async? true, or if you provide a :success/:error callback
this will be asynchronous, returning a promise and triggering the
handler provided if any.  Also accepts a
custom :executor (java.util.concurrent.ExecutorService instance) to be
used for the asynchronous queries.</pre><div class="src-link"><a href="https://github.com/mpenet/alia/blob/master/src/qbits/alia.clj#L135">Source</a></div></div><div class="public" id="var-prepare"><h3>prepare</h3><div class="usage"><code>(prepare session query)</code><code>(prepare query)</code></div><pre class="doc">Returns a com.datastax.driver.core.PreparedStatement instance to be
used in `execute` after it's been bound with `bind`</pre><div class="src-link"><a href="https://github.com/mpenet/alia/blob/master/src/qbits/alia.clj#L187">Source</a></div></div><div class="public" id="var-rows-%3Emaps"><h3>rows-&gt;maps</h3><div class="usage"><code>(rows-&gt;maps rows)</code></div><pre class="doc">Converts rows returned from execute into a collection of maps,
instead of 2d collection with maps per entry</pre><div class="src-link"><a href="https://github.com/mpenet/alia/blob/master/src/qbits/alia.clj#L201">Source</a></div></div><div class="public" id="var-set-consistency%21"><h3>set-consistency!</h3><div class="usage"><code>(set-consistency! consistency)</code></div><pre class="doc">Sets the consistency globally
</pre><div class="src-link"><a href="https://github.com/mpenet/alia/blob/master/src/qbits/alia.clj#L40">Source</a></div></div><div class="public" id="var-set-session%21"><h3>set-session!</h3><div class="usage"><code>(set-session! session)</code></div><pre class="doc">Sets the session globally
</pre><div class="src-link"><a href="https://github.com/mpenet/alia/blob/master/src/qbits/alia.clj#L56">Source</a></div></div><div class="public" id="var-shutdown"><h3>shutdown</h3><div class="usage"><code>(shutdown cluster-or-session)</code><code>(shutdown)</code></div><pre class="doc">Shutdowns Session or Cluster instance, clearing the underlying
pools/connections</pre><div class="src-link"><a href="https://github.com/mpenet/alia/blob/master/src/qbits/alia.clj#L83">Source</a></div></div><div class="public" id="var-with-consistency"><h3>with-consistency</h3><h4 class="macro">macro</h4><div class="usage"><code>(with-consistency consistency &amp; body)</code></div><pre class="doc">Binds qbits.alia/*consistency*
</pre><div class="src-link"><a href="https://github.com/mpenet/alia/blob/master/src/qbits/alia.clj#L34">Source</a></div></div><div class="public" id="var-with-session"><h3>with-session</h3><h4 class="macro">macro</h4><div class="usage"><code>(with-session session &amp; body)</code></div><pre class="doc">Binds qbits.alia/*session*
</pre><div class="src-link"><a href="https://github.com/mpenet/alia/blob/master/src/qbits/alia.clj#L50">Source</a></div></div></div></body></html>